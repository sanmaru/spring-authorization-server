-- DROP TABLE AUTHORITIES;
-- DROP TABLE USERS;
-- DROP TABLE oauth2_registered_client;
-- DROP TABLE OAUTH2_AUTHORIZATION_CONSENT;
-- DROP TABLE OAUTH2_AUTHORIZATION;
-- SANMARU.USERS definition

CREATE TABLE "SANMARU"."USERS"
(	"USERNAME" NVARCHAR2(128),
     "PASSWORD" NVARCHAR2(128) NOT NULL ENABLE,
     "MFA" CHAR(1) DEFAULT '0',
     "SECRET" NVARCHAR2(128),
     "ENABLED" CHAR(1) NOT NULL ENABLE,
     PRIMARY KEY ("USERNAME")
         USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255
         STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
         PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
         TABLESPACE "SYSTEM"  ENABLE
) SEGMENT CREATION IMMEDIATE
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

-- SANMARU.AUTHORITIES definition
CREATE TABLE "SANMARU"."AUTHORITIES"
(	"USERNAME" NVARCHAR2(128) NOT NULL ENABLE,
     "AUTHORITY" NVARCHAR2(128) NOT NULL ENABLE,
     CONSTRAINT "AUTHORITIES_UNIQUE" UNIQUE ("USERNAME", "AUTHORITY")
         USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS
         STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
         PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
         TABLESPACE "SYSTEM"  ENABLE,
     CONSTRAINT "AUTHORITIES_FK1" FOREIGN KEY ("USERNAME")
         REFERENCES "SANMARU"."USERS" ("USERNAME") ENABLE
) SEGMENT CREATION IMMEDIATE
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

-- SANMARU.OAUTH2_REGISTERED_CLIENT definition

CREATE TABLE "SANMARU"."OAUTH2_REGISTERED_CLIENT"
(	"ID" NVARCHAR2(100) NOT NULL ENABLE,
     "CLIENT_ID" NVARCHAR2(100) NOT NULL ENABLE,
     "CLIENT_ID_ISSUED_AT" TIMESTAMP (6) DEFAULT sysdate NOT NULL ENABLE,
     "CLIENT_SECRET" NVARCHAR2(200) DEFAULT NULL,
     "CLIENT_SECRET_EXPIRES_AT" TIMESTAMP (6) DEFAULT NULL,
     "CLIENT_NAME" NVARCHAR2(200) NOT NULL ENABLE,
     "CLIENT_AUTHENTICATION_METHODS" NVARCHAR2(1000) NOT NULL ENABLE,
     "AUTHORIZATION_GRANT_TYPES" NVARCHAR2(1000) NOT NULL ENABLE,
     "REDIRECT_URIS" NVARCHAR2(1000) DEFAULT NULL,
     "SCOPES" NVARCHAR2(1000) NOT NULL ENABLE,
     "CLIENT_SETTINGS" NVARCHAR2(2000) NOT NULL ENABLE,
     "TOKEN_SETTINGS" NVARCHAR2(2000) NOT NULL ENABLE,
     PRIMARY KEY ("ID")
         USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255
         STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
         PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
         TABLESPACE "SYSTEM"  ENABLE
) SEGMENT CREATION IMMEDIATE
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

CREATE UNIQUE INDEX "SANMARU"."SYS_C007478" ON "SANMARU"."OAUTH2_REGISTERED_CLIENT" ("ID")
    PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

-- SANMARU.OAUTH2_REGISTERED_CLIENT definition

CREATE TABLE "SANMARU"."OAUTH2_REGISTERED_CLIENT"
(	"ID" NVARCHAR2(100) NOT NULL ENABLE,
     "CLIENT_ID" NVARCHAR2(100) NOT NULL ENABLE,
     "CLIENT_ID_ISSUED_AT" TIMESTAMP (6) DEFAULT sysdate NOT NULL ENABLE,
     "CLIENT_SECRET" NVARCHAR2(200) DEFAULT NULL,
     "CLIENT_SECRET_EXPIRES_AT" TIMESTAMP (6) DEFAULT NULL,
     "CLIENT_NAME" NVARCHAR2(200) NOT NULL ENABLE,
     "CLIENT_AUTHENTICATION_METHODS" NVARCHAR2(1000) NOT NULL ENABLE,
     "AUTHORIZATION_GRANT_TYPES" NVARCHAR2(1000) NOT NULL ENABLE,
     "REDIRECT_URIS" NVARCHAR2(1000) DEFAULT NULL,
     "SCOPES" NVARCHAR2(1000) NOT NULL ENABLE,
     "CLIENT_SETTINGS" NVARCHAR2(2000) NOT NULL ENABLE,
     "TOKEN_SETTINGS" NVARCHAR2(2000) NOT NULL ENABLE,
     PRIMARY KEY ("ID")
         USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255
         STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
         PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
         TABLESPACE "SYSTEM"  ENABLE
) SEGMENT CREATION IMMEDIATE
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

CREATE UNIQUE INDEX "SANMARU"."SYS_C007478" ON "SANMARU"."OAUTH2_REGISTERED_CLIENT" ("ID")
    PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;


-- SANMARU.OAUTH2_AUTHORIZATION_CONSENT definition

CREATE TABLE "SANMARU"."OAUTH2_AUTHORIZATION_CONSENT"
(	"REGISTERED_CLIENT_ID" NVARCHAR2(100) NOT NULL ENABLE,
     "PRINCIPAL_NAME" NVARCHAR2(200) NOT NULL ENABLE,
     "AUTHORITIES" NVARCHAR2(1000) NOT NULL ENABLE,
     PRIMARY KEY ("REGISTERED_CLIENT_ID", "PRINCIPAL_NAME")
         USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255
         STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
         PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
         TABLESPACE "SYSTEM"  ENABLE
) SEGMENT CREATION IMMEDIATE
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

CREATE UNIQUE INDEX "SANMARU"."SYS_C007482" ON "SANMARU"."OAUTH2_AUTHORIZATION_CONSENT" ("REGISTERED_CLIENT_ID", "PRINCIPAL_NAME")
    PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

-- SANMARU.OAUTH2_AUTHORIZATION definition

-- SANMARU.OAUTH2_AUTHORIZATION definition

CREATE TABLE "SANMARU"."OAUTH2_AUTHORIZATION"
(	"ID" NVARCHAR2(100) NOT NULL ENABLE,
     "REGISTERED_CLIENT_ID" NVARCHAR2(100) NOT NULL ENABLE,
     "PRINCIPAL_NAME" NVARCHAR2(200) NOT NULL ENABLE,
     "AUTHORIZATION_GRANT_TYPE" NVARCHAR2(100) NOT NULL ENABLE,
     "ATTRIBUTES" VARCHAR2(4000) DEFAULT NULL,
     "STATE" NVARCHAR2(500) DEFAULT NULL,
     "AUTHORIZATION_CODE_VALUE" VARCHAR2(4000) DEFAULT NULL,
     "AUTHORIZATION_CODE_ISSUED_AT" TIMESTAMP (6) DEFAULT NULL,
     "AUTHORIZATION_CODE_EXPIRES_AT" TIMESTAMP (6) DEFAULT NULL,
     "AUTHORIZATION_CODE_METADATA" NVARCHAR2(2000) DEFAULT NULL,
     "ACCESS_TOKEN_VALUE" VARCHAR2(4000) DEFAULT NULL,
     "ACCESS_TOKEN_ISSUED_AT" TIMESTAMP (6) DEFAULT NULL,
     "ACCESS_TOKEN_EXPIRES_AT" TIMESTAMP (6) DEFAULT NULL,
     "ACCESS_TOKEN_METADATA" NVARCHAR2(2000) DEFAULT NULL,
     "ACCESS_TOKEN_TYPE" NVARCHAR2(100) DEFAULT NULL,
     "ACCESS_TOKEN_SCOPES" NVARCHAR2(1000) DEFAULT NULL,
     "OIDC_ID_TOKEN_VALUE" VARCHAR2(4000) DEFAULT NULL,
     "OIDC_ID_TOKEN_ISSUED_AT" TIMESTAMP (6) DEFAULT NULL,
     "OIDC_ID_TOKEN_EXPIRES_AT" TIMESTAMP (6) DEFAULT NULL,
     "OIDC_ID_TOKEN_METADATA" NVARCHAR2(2000) DEFAULT NULL,
     "REFRESH_TOKEN_VALUE" VARCHAR2(4000) DEFAULT NULL,
     "REFRESH_TOKEN_ISSUED_AT" TIMESTAMP (6) DEFAULT NULL,
     "REFRESH_TOKEN_EXPIRES_AT" TIMESTAMP (6) DEFAULT NULL,
     "REFRESH_TOKEN_METADATA" NVARCHAR2(2000) DEFAULT NULL,
     PRIMARY KEY ("ID")
         USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255
         STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
         PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
         TABLESPACE "SYSTEM"  ENABLE
) SEGMENT CREATION IMMEDIATE
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

CREATE UNIQUE INDEX "SANMARU"."SYS_C007522" ON "SANMARU"."OAUTH2_AUTHORIZATION" ("ID")
    PCTFREE 10 INITRANS 2 MAXTRANS 255
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;
